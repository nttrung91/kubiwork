/***********
 * NAV MENU
 *
 * Parent of SITE-NAV
 ***********/

/*
 * 1. Menu is fixed top
 * 2. Menu is under Nav Bar
 */

.nav-menu {
  position: fixed; /* [1] */
  top: 0; /* [1] */
  z-index: 100; /* [2] */

  /*
   * 1. Menu moves xx pixels to the right
   */

  @include bp(teen-bear) {
    padding-left: $nav-bar-width; /* [1] */
  }

}

/*
 * 1. Hide the Nav Menu only when Javascript is turned on
 * 2. Originally hide the menu
 */

.js .nav-menu { /* [1] */
  max-height: 0; /* [2] */
  overflow: hidden; /* [2] */
  opacity: 0;
  transition: opacity 200ms ease-in;
}

/*
 * 1. When active, Menu's height = Browser's height
 * 2. Overflow content is scrollable
 */

.nav-menu.isActive {
  height: 100%; /* [1] */
  max-height: 100%; /* [1] */
  opacity: 1;
  width: 100%;
  background: $nav-menu-bgColor;
  overflow: scroll; /* [2] */


  /* Waterfall Animation */
  .site-nav {

    /*
     * 1. Waterfall Animation: End State
     */

    > li {
      position: relative; /* [1] */
      top: 10px; /* [1] */
      opacity: 1; /* [1] */
      transition: top 200ms ease-in, opacity 200ms ease-in;
    }

    /*
     * Go through each list and apply a transition delay to create
     * the Waterfall Animation
     */

    @for $i from 1 through 4 {
      li:nth-child(#{$i}) {
        transition-delay: 160ms + ( 20 * ( $i - 1 ) );

        @include bp(teen-bear) {
          transition-delay: 220ms + ( 40 * ( $i - 1 ) );
        }
      }
    }
  }
}
